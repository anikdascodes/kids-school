---
import Layout from '../layouts/Layout.astro';
import Hero from '../components/Hero.astro';
import Features from '../components/Features.astro';

const testimonials = [
    {
        text: "My child loves coming to school every day! The teachers are amazing!",
        parent: "Sarah M.",
        child: "Emma, Grade 2",
        emoji: "❤️"
    },
    {
        text: "The creative activities and learning approach is exactly what we were looking for!",
        parent: "John D.",
        child: "Lucas, Grade 1",
        emoji: "🌟"
    },
    {
        text: "We've seen incredible growth in our daughter's confidence and skills!",
        parent: "Maria R.",
        child: "Sofia, Kindergarten",
        emoji: "✨"
    }
];
---

<Layout title="Welcome to Kids School!">
    <main>
        <Hero />
        <Features />

        <!-- Testimonials Section -->
        <section class="py-16 bg-background">
            <div class="container mx-auto px-4">
                <h2 class="text-4xl font-bubble text-primary text-center mb-12">
                    What Parents Say 💝
                </h2>

                <div class="grid md:grid-cols-3 gap-8">
                    {testimonials.map(testimonial => (
                        <div class="testimonial-card bg-white p-6 rounded-lg shadow-lg transform hover:-translate-y-2 transition-transform opacity-0">
                            <div class="text-4xl mb-4 text-center">{testimonial.emoji}</div>
                            <p class="font-comic text-gray-700 mb-4 text-center italic">"{testimonial.text}"</p>
                            <div class="text-center">
                                <p class="font-bubble text-secondary">{testimonial.parent}</p>
                                <p class="font-comic text-gray-600 text-sm">Parent of {testimonial.child}</p>
                            </div>
                        </div>
                    ))}
                </div>
            </div>
        </section>

        <script>
            // Intersection Observer for testimonial cards
            const observer = new IntersectionObserver((entries) => {
                entries.forEach((entry, index) => {
                    if (entry.isIntersecting) {
                        setTimeout(() => {
                            entry.target.classList.add('animate-slide-in');
                            entry.target.style.opacity = '1';
                        }, index * 200); // Stagger the animations
                    }
                });
            }, { threshold: 0.1 });

            // Observe all testimonial cards
            document.querySelectorAll('.testimonial-card').forEach(card => {
                observer.observe(card);
            });
        </script>

        <!-- Call to Action -->
        <section class="py-16 bg-accent/20">
            <div class="container mx-auto px-4 text-center">
                <h2 class="text-4xl font-bubble text-primary mb-6">
                    Join Our School Family! 🎈
                </h2>
                <p class="font-comic text-gray-700 mb-8 max-w-2xl mx-auto">
                    Give your child the gift of joyful learning in a nurturing environment. 
                    Schedule a visit to see our wonderful school in action!
                </p>
                <div class="space-x-4">
                    <a href="/contact" class="inline-block bg-primary text-white font-bubble py-3 px-6 rounded-lg hover:bg-primary/90 transition-transform hover:scale-105">
                        Schedule a Visit 🏫
                    </a>
                    <a href="/classes" class="inline-block bg-secondary text-white font-bubble py-3 px-6 rounded-lg hover:bg-secondary/90 transition-transform hover:scale-105">
                        Explore Classes 📚
                    </a>
                </div>
            </div>
        </section>
    </main>
</Layout>